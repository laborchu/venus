<div class="mv-navbar">
	<div class="pull-left navbar-left">
		<span #newUcView="ngbPopover" placement="right" [ngbPopover]="popNewUc"
			 (click)="$event.stopPropagation();popNewUcClick()" 
			(document:click)="newUcView.close()" class="navbar-item" >
			<i class="fa fa-plus-circle"></i>
		</span>

		<span class="navbar-item" title="产生文件" (click)="generate()">
			<i class="fa fa-life-bouy"></i>
		</span>
	</div>
	<div class="pull-right navbar-right">
			<div class="avatar" #projectP="ngbPopover" placement="bottom" [ngbPopover]="popProject">
					<a href="javascript:void(0)"><img src="assets/img/avatar.png"></a>	 
			</div>
	</div>
  

<!-- 	<button type="button" class="btn btn-secondary" placement="bottom"
        ngbPopover="Vivamus sagittis lacus vel augue laoreet rutrum faucibus." popoverTitle="Popover on bottom">
    </button>			
 -->
         

		<!-- <div class="avatar" ngbDropdownToggle>
			<img src="assets/img/avatar.png">	   
	    </div>
        <div class="dropdown-menu dropdown-menu-right">
	        <div class="dropdown-item"><i class="iconfont prag-profile"></i>个人资料</div>
	        <div class="dropdown-item"><i class="iconfont prag-logout"></i>退出</div>
        </div>
		 -->

</div>

	

<template #popNewUc>
   <input #newUcInput id="newUcInput" type="text" class="form-control" 
   		  (click)="$event.stopPropagation()" 
   		  (keyup.escape)="newUcView.close()"
   		  (keyup.enter)="addUc(newUcInput.value,newUcView)">
</template>

<template #userSettingContent ngbModalContainer let-c="close" let-d="dismiss">
    <div class="modal-header">
        <button type="button" class="close" (click)="d()">
            <span>&times;</span>
        </button>
        <h4 class="modal-title">个人资料</h4>
    </div>
    <div class="modal-body clearfix">
        <form #newUserSettingForm="ngForm" class="form-horizontal">
            <div class="form-group">
                <label class="control-label">用户名</label>
	            <input type="text" class="form-control" placeholder="用户名" [(ngModel)]="user.username"  required  name="username" 
	                #username="ngModel" disabled>
	            <div [hidden]="username.valid || username.pristine" class="valid-error">用户名不能为空</div>
            </div>
            <div class="form-group">
                <label class="control-label">名称</label>
                <input type="text" class="form-control" placeholder="名称" [(ngModel)]="user.name"  required  name="name" #name="ngModel">
                <div [hidden]="name.valid || name.pristine" class="valid-error">名称不能为空</div>
            </div>
             <div class="form-group">
                <label class="control-label">手机号</label>
                <input type="text" class="form-control" placeholder="手机号" [(ngModel)]="user.mobile"  required  name="mobile" #mobile="ngModel">
                <div [hidden]="mobile.valid || mobile.pristine" class="valid-error">手机号不能为空</div>
            </div>
            <div class="form-group">
                <label class="control-label">电子邮箱</label>
                <input type="text" class="form-control" placeholder="电子邮箱" [(ngModel)]="user.email" required  name="email" #email="ngModel">
                <div [hidden]="email.valid || email.pristine" class="valid-error">电子邮箱不能为空</div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" [disabled]="!newUserSettingForm.form.valid" class="btn btn-success" (click)="d()">保存</button>
    </div>
</template>

<template #popProject>
    <div class="pop-item" (click)="projectP.close();openUserSetting(userSettingContent)"><i class="fa fa-address-card" aria-hidden="true"></i>个人资料
    </div>
    <div class="pop-item"><i class="fa fa-sign-out" aria-hidden="true"></i>退出</div>
</template>
